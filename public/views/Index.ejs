<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/img/logo.png">
    <title>Chegi BreakFast</title>
    <meta name="description"
      content="Món ăn sáng ngon gồm trứng gà, trứng vịt lộn, bắp ngô và khoai lang" />
    <meta name="author" content="Chegi BreakFast" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
      rel="stylesheet">
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.css">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <nav class="navbar navbar-expand-lg" style="padding: 10px;">
          <div class="container-fluid">
            <a class="navbar-brand" href="/" style="padding: 0px;">
              <img src="/img/logo.png"
                style="max-width: 60px;height: auto;border-radius: 50% 50%;" />
              <small>Chegi BreakFast</small>
            </a>
            <button class="navbar-toggler" type="button"
              data-bs-toggle="collapse" data-bs-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false"
              aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                  <a class="nav-link active" href="#">Trang Chủ</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#products">Thực Đơn</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#features">Về Chúng Tôi</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#contact">Liên Hệ</a>
                </li>
              </ul>

              <!-- <button class="btn btn-primary">Đặt Hàng Ngay</button> -->
              <div class="shop-cart">
                <a class="nav-link" href="/my-shop-cart">
                  <i class="fa-solid fa-cart-shopping"
                    style="font-size: xx-large;"></i>
                  <span
                    class="position-absolute translate-middle badge rounded-pill bg-danger" id="count_cart">0</span>
                </a>
              </div>
            </div>

          </div>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <div class="hero-content">
              <h1>Bữa Sáng Tươi Ngon Mỗi Ngày</h1>
              <p>Thưởng thức bữa sáng tuyệt vời với các món ăn dinh dưỡng từ các
                nguyên liệu tươi ngon nhất, đảm bảo khởi đầu ngày mới tràn đầy
                năng lượng.</p>
              <div class="hero-btns">
                <a href="#products" class="btn btn-primary">Xem Thực Đơn</a>
                <a href="#contact" class="btn btn-outline">Liên Hệ Ngay</a>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="hero-image">
              <div class="main-image">
                <div class="main-image-text">
                  Bữa sáng dinh dưỡng cho ngày mới
                </div>
              </div>
              <div class="hero-badge badge-1">
                <i class="fas fa-egg icon"></i>
                <span>Trứng Gà</span>
              </div>
              <div class="hero-badge badge-2">
                <i class="fas fa-egg icon"></i>
                <span>Vịt Lộn</span>
              </div>
              <div class="hero-badge badge-3">
                <i class="fas fa-seedling icon"></i>
                <span>Bắp Ngô</span>
              </div>
              <div class="hero-badge badge-4">
                <i class="fas fa-carrot icon"></i>
                <span>Khoai Lang</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
      <div class="container">
        <div class="section-title">
          <h2>Đặc Điểm Nổi Bật</h2>
          <p>Chúng tôi tự hào cung cấp các món ăn sáng ngon miệng, tươi ngon và
            đầy đủ dinh dưỡng mỗi ngày</p>
        </div>
        <div class="row">
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-leaf"></i>
              </div>
              <h3>Tươi Ngon</h3>
              <p>Tất cả nguyên liệu đều được tuyển chọn kỹ lưỡng, đảm bảo độ
                tươi ngon và chất lượng cao nhất.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-truck"></i>
              </div>
              <h3>Giao Hàng Nhanh</h3>
              <p>Chúng tôi cam kết giao hàng nhanh chóng và đúng giờ, giúp bạn
                thưởng thức bữa sáng ưng ý.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-heart"></i>
              </div>
              <h3>Dinh Dưỡng</h3>
              <p>Các món ăn được chế biến cẩn thận, giữ nguyên giá trị dinh
                dưỡng, tốt cho sức khỏe.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Products Section -->
    <section class="products" id="products">
      <div class="container">
        <div class="section-title">
          <h2>Thực Đơn Của Chúng Tôi</h2>
          <p>Khám phá các món ăn sáng tươi ngon, bổ dưỡng từ những nguyên liệu
            chất lượng cao</p>
        </div>

        <div class="product-filter">
          <button class="filter-btn active">Tất Cả</button>
          <button class="filter-btn">Đồ ăn</button>
          <button class="filter-btn">Đồ uống</button>
        </div>

        <div class="row">
          <% lst_food.forEach(item => { %>
          <div class="col-lg-3 col-md-6">
            <div class="product-card">
              <div class="product-image"
                style="background-image: url('<%= item.imgsrc %>');background-size: contain;background-position: center;">
                <!-- <i class="fas fa-egg product-icon"></i> -->
                <!-- <span class="product-badge">Bán chạy</span> -->
              </div>
              <div class="product-content">
                <h3 class="product-title"><%= item.itemname %></h3>
                <p class="product-desc"><%= item.shortdescription %></p>
                <div class="product-bottom">
                  <div class="product-price"><%= item.price.toLocaleString('en-US') %>đ</div>
                  <button class="add-to-cart"
                    onclick="func_add_to_cart('<%= item.id %>')">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
          <!-- <div class="col-lg-3 col-md-6">
            <div class="product-card">
              <div class="product-image">
                <i class="fas fa-egg product-icon"></i>
                <span class="product-badge">Comming soon</span>
              </div>
              <div class="product-content">
                <h3 class="product-title">Bánh Mì Trứng</h3>
                <p class="product-desc">Sắp mở bán</p>
                <div class="product-bottom">
                  <div class="product-price">0đ</div>
                  <button class="add-to-cart">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="product-card">
              <div class="product-image">
                <i class="fas fa-egg product-icon"></i>
                <span class="product-badge">Comming soon</span>
              </div>
              <div class="product-content">
                <h3 class="product-title">Xôi Trứng Chả</h3>
                <p class="product-desc">Sắp mở bán</p>
                <div class="product-bottom">
                  <div class="product-price">0đ</div>
                  <button class="add-to-cart">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="product-card">
              <div class="product-image">
                <i class="fas fa-egg product-icon"></i>
                <span class="product-badge">Comming soon</span>
              </div>
              <div class="product-content">
                <h3 class="product-title">Sữa Đậu Lành</h3>
                <p class="product-desc">Sắp mở bán</p>
                <div class="product-bottom">
                  <div class="product-price">0đ</div>
                  <button class="add-to-cart">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="product-card">
              <div class="product-image">
                <i class="fas fa-egg product-icon"></i>
                <span class="product-badge">Comming soon</span>
              </div>
              <div class="product-content">
                <h3 class="product-title">Món Đặc Biệt</h3>
                <p class="product-desc">Sắp mở bán</p>
                <div class="product-bottom">
                  <div class="product-price">0đ</div>
                  <button class="add-to-cart">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                </div>
              </div>
            </div>
          </div> -->
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-lg-8">
            <h2>Đặt Hàng Ngay Hôm Nay</h2>
            <p>Đăng ký để nhận thông báo về các khuyến mãi đặc biệt và thực đơn
              mới nhất của chúng tôi.</p>
            <div class="cta-form">
              <input type="email" placeholder="Nhập email của bạn"
                class="form-control">
              <button>Đăng Ký</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-6 footer-col">
            <div class="footer-logo">Chegi BreakFast</div>
            <p class="footer-desc">Cung cấp bữa sáng tươi ngon, đầy đủ dinh
              dưỡng mỗi ngày. Chúng tôi cam kết mang đến cho bạn những trải
              nghiệm ẩm thực tuyệt vời nhất.</p>
            <div class="social-links">
              <a href="#" class="social-icon"><i
                  class="fab fa-facebook-f"></i></a>
              <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
              <a href="#" class="social-icon"><i
                  class="fab fa-instagram"></i></a>
              <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
            </div>
          </div>

          <div class="col-lg-2 col-md-6 footer-col">
            <h4 class="footer-title">Thực Đơn</h4>
            <ul class="footer-links">
              <li><a href="#">Trứng Gà</a></li>
              <li><a href="#">Trứng Vịt Lộn</a></li>
              <li><a href="#">Bắp Ngô</a></li>
              <li><a href="#">Khoai Lang</a></li>
              <li><a href="#">Combo Ăn Sáng</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-col">
            <h4 class="footer-title">Hỗ Trợ</h4>
            <ul class="footer-links">
              <li><a href="#">Chính Sách Giao Hàng</a></li>
              <li><a href="#">Hình Thức Thanh Toán</a></li>
              <li><a href="#">Câu Hỏi Thường Gặp</a></li>
              <li><a href="#">Điều Khoản Dịch Vụ</a></li>
              <li><a href="#">Chính Sách Bảo Mật</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-col">
            <h4 class="footer-title">Liên Hệ</h4>
            <div class="contact-item">
              <i class="fas fa-map-marker-alt contact-icon"></i>
              <p class="contact-text">Đường Cộng Hòa - An Khánh - Hoài Đức - Hà
                Nội</p>
            </div>
            <div class="contact-item">
              <i class="fas fa-phone-alt contact-icon"></i>
              <p class="contact-text">0365997303</p>
            </div>
            <div class="contact-item">
              <i class="fas fa-envelope contact-icon"></i>
              <p class="contact-text">hanh1997haui@gmail.com</p>
            </div>
            <div class="contact-item">
              <i class="fas fa-clock contact-icon"></i>
              <p class="contact-text">6:00 - 11:00 Sáng / Hàng Ngày</p>
            </div>
          </div>
        </div>

        <div class="copyright">
          <p>&copy; 2025 Chegi BreakFast. Tất cả quyền được bảo lưu.</p>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery-toast-plugin/1.3.2/jquery.toast.min.js"></script>
    <script src="/js/main.js"></script>
    <!-- Custom JS -->
    <script>
      // Product filter functionality
      document.addEventListener('DOMContentLoaded', function() {
        const filterBtns = document.querySelectorAll('.filter-btn');
        
        filterBtns.forEach(btn => {
          btn.addEventListener('click', function() {
            // Remove active class from all buttons
            filterBtns.forEach(b => b.classList.remove('active'));
            // Add active class to clicked button
            this.classList.add('active');
          });
        });
      });
      var lst_item = [];
      $(document).ready(() => {
        getlistitem();
        func_get_list_data_card();
      });

      var getlistitem = () =>
        {
            $.ajax({
                url: "/get-list-items", // API lấy danh sách món ăn
                method: "GET",
                dataType: "json",
                success: function (data) {
                    lst_item = data;
                },
                error: function (xhr, status, error) {
                    console.error("Lỗi khi lấy dữ liệu:", error);
                    return null;
                }
            });
        }

      var func_add_to_cart = async (id) =>
      {
        var obj_item = lst_item.find(c=>c.id == id);
        if(obj_item == null)
        {
          return false;
        }
        $.ajax({
          url: '/add-to-cart',
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify({id,itemname,price,imgsrc} = obj_item),
          success: function (data) {
              //Đếm số lượng add vào biểu tuojwng giỏ
              func.toast("Thông báo","Thêm giỏ hàng thành công","success","bottom-right")
              var count_qty =  func.reduceSum(data.cart,"quantity");
              $("#count_cart").html(count_qty);
          },
          error: function (err) {
            func.toast("Thông báo","Lỗi thêm vào giỏ hàng","error","bottom-right")
            console.error("Lỗi thêm vào giỏ hàng:", err);
          }
        });
        }

        var func_get_list_data_card = () =>
          {
              $.ajax({
                  url: "/get-cart", // API lấy danh sách món ăn
                  method: "GET",
                  dataType: "json",
                  success: function (res) {
                      var total_item = func.reduceSum(res.cart,"quantity");
                      $("#count_cart").html(total_item);
                  },
                  error: function (xhr, status, error) {
                      console.error("Lỗi khi lấy dữ liệu:", error);
                      return null;
                  }
              });
          }  
    </script>
  </body>
</html>